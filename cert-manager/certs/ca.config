[ ca ]
default_ca             = CA_default

[ CA_default ]
dir                    = ./ca
database               = $dir/index                     # database of certs generated by the ca
new_certs_dir          = $dir/                          # one dir up to make the demo easier
certificate            = $dir/ca.crt                    # one dir up to make the demo easier
crl                    = $dir/ca.crl                    # Root CA CRL
crlnumber              = $dir/crlnumber                 # Root CA CRL number
serial                 = $dir/serial                    # file with incrementing hex serial number for certs
private_key            = $dir/ca.key
default_crl_days       = 3650                           # Default CRL validity days
default_md             = sha256                         # Default message digest
preserve               = no                             # Preserve existing extensions
email_in_dn            = no                             # Exclude email from the DN
name_opt               = ca_default                     # Formatting options for names
cert_opt               = ca_default                     # Certificate output options
policy                 = policy_strict                  # Certificate policy
unique_subject         = no                             # Allow multiple certs with the same DN

[ policy_strict ]                                       # Policy for stricter validation
countryName            = match                          # Must match the issuer's country
stateOrProvinceName    = match                          # Must match the issuer's state
organizationName       = match                          # Must match the issuer's organization
organizationalUnitName = optional                       # Organizational unit is optional
commonName             = supplied                       # Must provide a common name
emailAddress           = optional                       # Email address is optional

[ req ]
distinguished_name     = req_distinguished_name
prompt                 = no

[ req_distinguished_name ]
countryName            = DE
stateOrProvinceName    = NRW
localityName           = Cologne
0.organizationName     = turing85-org
organizationalUnitName = turing85-unit
commonName             = turing85-ca
emailAddress           = turing85-ca@email.com
unstructuredName       = turing85-company

[ v3_ca ]                                               # Root CA certificate extensions
subjectKeyIdentifier   = hash                           # Subject key identifier
authorityKeyIdentifier = keyid:always,issuer            # Authority key identifier
basicConstraints       = critical, CA:true              # Basic constraints for a CA
keyUsage               = critical, cRLSign, keyCertSign # Key usage for a CA

[ crl_ext ]                                             # CRL extensions
authorityKeyIdentifier = keyid:always,issuer            # Authority key identifier


[ v3_intermediate_ca ]
subjectKeyIdentifier   = hash
authorityKeyIdentifier = keyid:always,issuer
basicConstraints       = critical, CA:true, pathlen:0
keyUsage               = critical, digitalSignature, cRLSign, keyCertSign